<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Cost Benefit Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json">
  <style>
    body { font-family: Arial, sans-serif; background: #f8fafc; margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; }
    .card { background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); padding: 20px; margin-bottom: 20px; width: 100%; max-width: 500px; }
    h1 { margin-bottom: 20px; font-size: 1.8rem; }
    input, button { width: 100%; padding: 10px; margin: 10px 0; font-size: 1rem; }
    label { font-weight: bold; display: block; margin-top: 10px; }
    #result { font-size: 1rem; line-height: 1.6; }
    .highlight { background: yellow; font-weight: bold; padding: 4px 8px; display: inline-block; margin-top: 10px; }
    .section-title { font-size: 1.2rem; font-weight: bold; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
    .icon { font-size: 1.2rem; }
  </style>
</head>
<body>

  <h1>Cost Benefit Calculator</h1>

  <div class="card">
    <div class="section-title"><span class="icon">ðŸ‘¤</span>Staff Profile</div>
    <label for="staffCount">How many staff do you have?</label>
    <input type="number" id="staffCount" min="0" placeholder="e.g. 25">

    <label for="avgSalary">What is the average annual salary (Â£)?</label>
    <input type="number" id="avgSalary" min="0" placeholder="e.g. 30000">

    <button onclick="calculate()">Calculate</button>
  </div>

  <div class="card" id="resultCard" style="display:none;">
    <div class="section-title"><span class="icon">ðŸ“Š</span>Results</div>
    <div id="result"></div>
  </div>

  <script>
    function calculate() {
      const staff = parseInt(document.getElementById("staffCount").value);
      const salary = parseFloat(document.getElementById("avgSalary").value);
      if (isNaN(staff) || isNaN(salary)) {
        alert("Please enter valid numbers for both inputs.");
        return;
      }

      const dailySalary = salary / 260;
      const totalAbsence = staff * 5.5;
      const absenceCost = staff * dailySalary * 5.5 * 1.3;
      const turnoverCost = staff * 0.35 * 260 * 1.5;
      const therapyCost = staff * 0.03 * 120;
      const potentialLiability = absenceCost + turnoverCost + therapyCost;
      const planAnnualCost = staff * 1 * 12;
      const netSavings = potentialLiability - planAnnualCost;

      document.getElementById("resultCard").style.display = "block";
      document.getElementById("result").innerHTML = `
        Total Days Absent: ${totalAbsence}<br>
        Average Daily Salary: Â£${dailySalary.toFixed(2)}<br>
        Absence Cost: Â£${absenceCost.toLocaleString(undefined, {minimumFractionDigits: 2})}<br>
        Turnover Cost: Â£${turnoverCost.toLocaleString(undefined, {minimumFractionDigits: 2})}<br>
        Therapy Cost: Â£${therapyCost.toLocaleString(undefined, {minimumFractionDigits: 2})}<br>
        Potential Liability: Â£${potentialLiability.toLocaleString(undefined, {minimumFractionDigits: 2})}<br>
        Plan Annual Cost: Â£${planAnnualCost.toLocaleString(undefined, {minimumFractionDigits: 2})}<br>
        <div class="highlight">ðŸ’° Net Potential Saving: Â£${netSavings.toLocaleString(undefined, {minimumFractionDigits: 2})}</div>
      `;
    }

    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js');
    }
  </script>
</body>
</html>
