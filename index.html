<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Cost Benefit Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json">
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #fff2e6; }
    input, button { margin: 10px 0; padding: 10px; width: 100%; font-size: 1rem; }
    label { font-weight: bold; display: block; margin-top: 10px; }
    #result { margin-top: 20px; font-size: 1.1rem; }
  </style>
</head>
<body>
  <h1>Cost Benefit Calculator</h1>

  <label for="staffCount">How many staff do you have?</label>
  <input type="number" id="staffCount" min="0" placeholder="e.g. 20">

  <label for="avgSalary">What is the average annual salary (£)?</label>
  <input type="number" id="avgSalary" min="0" placeholder="e.g. 30000">

  <button onclick="calculate()">Calculate</button>

  <div id="result"></div>

  <script>
    function calculate() {
      const staff = parseInt(document.getElementById("staffCount").value);
      const salary = parseFloat(document.getElementById("avgSalary").value);
      if (isNaN(staff) || isNaN(salary)) {
        document.getElementById("result").textContent = "Please enter valid numbers.";
        return;
      }

      const dailySalary = salary / 260;
      const absenceCost = staff * dailySalary * 5.5 * 1.3;
      const turnoverCost = staff * 0.35 * 260 * 1.5;
      const therapyCost = staff * 0.03 * 120;
      const potentialLiability = absenceCost + turnoverCost + therapyCost;
      const planAnnualCost = staff * 1 * 12;
      const netSavings = potentialLiability - planAnnualCost;

      document.getElementById("result").innerHTML = `
        <strong>Total Days Absent:</strong> ${staff * 5.5}<br>
        <strong>Average Daily Salary:</strong> £${dailySalary.toFixed(2)}<br>
        <strong>Absence Cost:</strong> £${absenceCost.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}<br>
        <strong>Turnover Cost:</strong> £${turnoverCost.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}<br>
        <strong>Therapy Cost:</strong> £${therapyCost.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}<br>
        <strong>Potential Liability:</strong> £${potentialLiability.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}<br>
        <strong>Plan Annual Cost:</strong> £${planAnnualCost.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}<br>
        <strong>Net Potential Saving:</strong> £${netSavings.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}
      `;
    }

    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js');
    }
  </script>
</body>
</html>
